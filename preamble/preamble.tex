% !TEX root = ../main.tex

% COLORS
% \PassOptionsToPackage{usenames,dvipsnames}{xcolor}
\usepackage[usenames,dvipsnames]{xcolor}
\newcommand\myshade{85}
\colorlet{mylinkcolor}{violet}
\colorlet{mycitecolor}{Bittersweet} % YellowOrange, BurntOrange
\colorlet{myurlcolor}{Aquamarine}

%% ignore paragraphs in table of contents
% \setcounter{secnumdepth}{0}
% \setcounter{secnumdepth}{-2} % disable chapter numbers
% \setcounter{tocdepth}{3}

% insert bibliography in table of contents
\usepackage[nottoc,notlot,notlof]{tocbibind}

\usepackage{amsmath}

% FONTS
% \usepackage[T1]{fontenc}

% \synctex=1

% \usepackage[T1]{fontenc} % To switch to the T1 encoding
% \usepackage{lmodern} % To switch to Latin Modern
% \rmfamily % To load Latin Modern Roman and enable the following NFSS declarations.
% % Declare that Latin Modern Roman (lmr) should take
% % its bold (b) and bold extended (bx) weight, and small capital (sc) shape,
% % from the corresponding Computer Modern Roman (cmr) font, for the T1 font encoding.
% \DeclareFontShape{T1}{lmr}{b}{sc}{<->ssub*cmr/bx/sc}{}
% \DeclareFontShape{T1}{lmr}{bx}{sc}{<->ssub*cmr/bx/sc}{}
% \DeclareFontShape{OT1}{cmr}{bx}{sc}{<-> cmbcsc10}{}

% \usepackage{unicode-math}

% Replace default Latin Modern typewriter with its proportional counterpart
% http://www.tug.dk/FontCatalogue/lmoderntypewriterprop/
%\renewcommand*\ttdefault{lmvtt}

%%% OPTION 3 - MTPRO 2 Math + Termes Times + ParaType Sans
% https://tex.stackexchange.com/questions/359303/lettrine-temporary-font-change

% \usepackage[no-math]{fontspec}

\usepackage[quiet]{fontspec}

\usepackage{unicode-math}
% \defaultfontfeatures{Mapping=tex-text}
\setmainfont{Hoefler Text Pro}[
  Ligatures={Common},
  % Contextuals={Swash,Inner,WordInitial},
  StylisticSet=1, % 1 is good! has swash and no weird S
  Script=Latin,
  Language=English,
  % Alternate=0,
  % Style=Alternate
  Scale=1.09090909091 % to match STIX font. TODO: uncomment to match math
]
\setmonofont{Monego}[
  % Scale=0.9,
  Scale=MatchLowercase
]

\setmathfont{STIX Two Math}
% \let\myBbbk\Bbbk
% \let\Bbbk\relax
% \usepackage[subscriptcorrection,
%             amssymbols,
%             mtpbb,
%             mtpcal,
%             nofontinfo  % suppresses all warnings
%            ]{mtpro2}
\usepackage{scalefnt,letltxmacro}
\LetLtxMacro{\oldtextsc}{\textsc}
\renewcommand{\textsc}[1]{\oldtextsc{\scalefont{1.10}#1}}
% \usepackage[scaled=0.92]{PTSans}
% \setmathsfont(Greek){Linux Libertine O}

% for bold textsc
% \usepackage{slantsc}
% \usepackage{bold-extra}

% ICONS
% \usepackage{dingbat}
\usepackage{fontawesome}

% % CODE
% \usepackage{minted}

% % separate file for appendix
% \usepackage{subfiles}

% EDITING
% line numbering in left margin
% \usepackage{lineno}
% \renewcommand\linenumberfont{\normalfont
%                              \footnotesize
%                              \sffamily
%                              \color{SkyBlue}}

% SPACING and TEXT
% \usepackage[final,expansion=alltext]{microtype}
\usepackage[english]{babel}
\usepackage{csquotes}
\usepackage[parfill]{parskip}
\usepackage{afterpage}
\usepackage{framed}
\usepackage{nicefrac}

% ragged paragraphs in right margin
\usepackage{ragged2e}
\DeclareRobustCommand{\sidenote}[1]{\marginpar{
                                    \RaggedRight
                                    \textcolor{Plum}{\textsf{#1}}}}

% Define a paragraph header function
\DeclareRobustCommand{\parhead}[1]{\textbf{#1}~}

% paragraph helper
\DeclareRobustCommand{\PP}{\textcolor{Plum}{\P}~}
\DeclareRobustCommand{\pp}{\textcolor{Plum}{\P}~}

% COUNTERS
\renewcommand{\labelenumi}{\color{black!67}{\arabic{enumi}.}}
\renewcommand{\labelenumii}{{\color{black!67}(\alph{enumii})}}
\renewcommand{\labelitemi}{{\color{black!67}\textbullet}}

% FIGURES
\usepackage{graphicx}
\usepackage[labelfont=bf]{caption}
\usepackage[format=hang]{subcaption}
\usepackage{wrapfig}

% TABLES
\usepackage{booktabs}
\usepackage{array}

%\usepackage{dblfloatfix}  % for placing table at bottom of page

% TABLE ALIGNMENT
\usepackage{etoolbox,siunitx}
\robustify\bfseries
\sisetup{detect-weight=true, detect-shape=true, detect-mode=true,
table-format=5.1,
table-number-alignment=center,
separate-uncertainty=true,
input-ignore={,},input-decimal-markers={.}}

% BABEL
% \usepackage{polyglossia}

% ALGORITHMS
\usepackage[algoruled]{algorithm2e}
\usepackage{fancyvrb}
\fvset{fontsize=\normalsize}

% THEOREMS
\usepackage{amsthm}
\newtheorem{theorem}{Theorem}
\newtheorem{prop}{Proposition}

% TODO
% \usepackage{todo}

% COLOR DEFINITIONS
\newcommand{\red}[1]{\textcolor{BrickRed}{#1}}
\newcommand{\orange}[1]{\textcolor{BurntOrange}{#1}}
\newcommand{\green}[1]{\textcolor{OliveGreen}{#1}}
\newcommand{\blue}[1]{\textcolor{MidnightBlue}{#1}}
\newcommand{\gray}[1]{\textcolor{black!60}{#1}}
\definecolor{deepblue}{rgb}{0,0,0.9}
\definecolor{deepred}{rgb}{0.85,0,0}
\definecolor{deepgreen}{rgb}{0,0.95,0}
\definecolor{mygray}{gray}{0.97}

% ACRONYMS
% smallcaps option
\usepackage[acronym,nowarn]{glossaries}
\glsdisablehyper
% \makeglossaries

% LISTINGS DEFINTIONS
\usepackage{listings}
% \lstdefinestyle{alp_style}{
%     commentstyle=\color{OliveGreen},
%     numberstyle=\tiny\color{black!60},
%     stringstyle=\color{BrickRed},
%     basicstyle=\ttfamily\scriptsize,
%     breakatwhitespace=false,
%     breaklines=true,
%     captionpos=b,
%     keepspaces=true,
%     numbers=none,
%     numbersep=5pt,
%     showspaces=false,
%     showstringspaces=false,
%     showtabs=false,
%     tabsize=2
% }
% \lstset{style=alp_style}

\lstdefinestyle{python}{
  belowcaptionskip=1\baselineskip,
  breaklines=true,
  frame=L,
  xleftmargin=\parindent,
  language=Python,
  showstringspaces=false,
  basicstyle=\small\ttfamily,
  morekeywords={models, lambda, forms,True,False,None},
  keywordstyle=\bfseries\color{deepgreen!40!black},
  commentstyle=\itshape\color{gray},
  identifierstyle=\color{black},
  stringstyle=\color{deepred},
  rulecolor=\color{gray},
  backgroundcolor=\color{mygray},
}

\lstset{escapechar=@,style=python}

% % spacing
% \usepackage{titlesec}
% \titlespacing*{\section}
% {0pt}{1ex plus 1ex minus .2ex}{1ex plus .2ex}
% \titlespacing*{\subsection}
% {0pt}{1ex plus 1ex minus .2ex}{1ex plus .2ex}
% \linepenalty=1000

% physics utils
\usepackage{braket}

% HYPERREF
% \usepackage{hyperref}
% % \usepackage[all]{hypcap}
% \hypersetup{
%   colorlinks=true,
%   % citecolor=Violet,
%   linkcolor=red,
%   % urlcolor=MidnightBlue,
%   linktoc=all
%   }